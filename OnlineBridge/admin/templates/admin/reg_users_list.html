{% extends 'base.html' %}

{% block content %}
  <div class="jumbotron">
    <h1>Registrerte Benutzer</h1>

    <h5 class="mt-3">
      Gesperrte Benutzer sind <span style="color: red">rot</span> geschrieben.
    </h5>
{#    <a class="btn btn-primary mt-3" href="{{ url_for('admin.reg_users_new') }}" role="button">Neuer Gast</a>#}

  </div>

  {% for reg_user in reg_users.items %}
    <a href="{{ url_for('admin.user_detail', slug=reg_user.slug, page=reg_users.page) }}" class="text-reset">
      <div class="row {{ loop.cycle('bg-light', 'bg-transparent') }}"
        {% if not reg_user.active %} style="color: red" {% endif %}
      >
        <div class="col-9">
          {{ reg_user.member.list_name }}
        </div>
        <div class="col">
          {{ roles_as_str[reg_user.roles|length()-1] }}
        </div>
      </div>
    </a>
  {% else %}
    <div class="row">
      <div class="col">
        Keine Benutzer gefunden
      </div>
      </div>
  {% endfor %}



<nav aria-label='Users aria' class="mt-2">
  <ul class="pagination justify-content-center">
    {% for page_num in reg_users.iter_pages(left_edge=1,right_edge=1,left_current=2,right_current=3)  %}
      {% if page_num %}
        <li class='page-item {% if reg_users.page == page_num %}disabled{% endif %}'>
          <a class="page-link" href="{{url_for('admin.registered_users',page=page_num)}}">{{ page_num}}</a>
          </li>
      {% else %}
        <li class='page-item disabled'>
          <span class="page-link">...</span>
        </li>
      {% endif %}
    {% endfor %}
  </ul>

</nav>


{% endblock %}